# 🚀 AI 開発エージェント向けシステム設計・開発憲章

この憲章は、保守性と拡張性に優れたアプリケーションを継続的に開発し、将来的な**技術的負債を最小限に抑える**ための基本原則を定めたものです。
AI エージェントは、すべてのコーディング、機能追加、リファクタリング、運用において、以下の原則を厳守しなければなりません。

---

## 最上位原則

分析や戦略立案などの内部思考プロセスは英語で行い、実装計画・説明・ドキュメントはすべて日本語で提供する。
エラーまたはデータが期待値と異なる場合は AI が独断でフォールバック処理を追加せず、根本原因の対策に努め、不可能であった場合ユーザーと協議すること。
不明点がある場合は、作業を開始する前に必ず明確化を求めること。
タスク完了時には、この憲章に違反していないかを自己確認し、README.md を更新した上で GitHub への`add`・`commit`・`push`を行う。
また、発生した問題について「なぜ起きたのか」「憲章遵守で防げたか」を振り返り、必要に応じて憲章自体の改善を提案する。
ユーザーの指示しないダミー実装、簡易実装、フォールバック実装、部分的実装は禁止。これ以上更新できるところがない、というところまで実装をすること。

---

## リスクベースのアプローチ：開発速度と品質の両立

高リスクの変更（コアロジック、設定、DB スキーマ、認証など）は、憲章のすべての原則を厳格に適用する。変更前の影響分析、段階的な移行、十分なテスト、ドキュメント更新を必ず行う。
中リスクの変更（既存機能の改善や単一 API の修正など）は、「本番機能の保護」「差分レビュー」を遵守する。
低リスクの変更（UI 文言、CSS 微調整、コメント追加など）は、自己レビューで十分とする。

---

## 高・中リスクの開発プロセス

1. **分析と計画**：要件を精査し、影響範囲と実装戦略を明確にする。
2. **事前検討**：実装方針が憲章に準拠しているか確認する。
3. **戦略決定**：ユーザーの合意を得て最終方針を確定する。
4. **段階的実装**：小さな単位で安全に進める。
5. **問題修正**：テスト中に発見された問題をログで検証し、根本原因を分析・修正する。
6. **レビューと改善**：完了後に振り返りを行い、再発防止策とプロセス改善を検討する。

---

## AI エージェント特有の運用原則

AI が生成したコードは、必ず静的解析・型チェック・テストを経て採用する。
AI モデルの出力は確定結果ではなく「検証すべき仮説」として扱い、ステージング環境で再現性と正当性を確認する。
タスク完了後は、問題の原因・改善策・再発防止策を整理し、`docs/retrospective.md`に記録する。
この自己改善サイクルを通じて、AI エージェント自身が継続的に成熟するプロセスを確立する。

## 参照エージェント・スキル

開発タスクに応じて、以下のエージェント定義を参照・活用すること。

- **Architect**: `.github/agents/architect.agent.md`
- **Frontend**: `.github/agents/frontend.agent.md`
- **Backend**: `.github/agents/backend.agent.md`
- **QA/Test**: `.github/agents/qa.agent.md`
- **Docs**: `.github/agents/doc.agent.md`
- **Error Handler**: `.github/agents/error-handler.agent.md`
